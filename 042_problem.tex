\documentclass{article}
\include{header}

\begin{document}
  There is a well known magic trick called ``Communicating the Card'' in which
  a spectator draws $k$ cards from an $n$-card deck and shows them to the
  magician's assistant. He then shows $k-1$ of them to the magician
  in a particular order, after which she (the magician) can deduce the remaining
  card. In this variation, the largest possible deck is $k! + k - 1$ cards.
\begin{figure}[!h]
  \centering
  % Figure out how to center equals signs in second and fourth columns.
  \begin{alignat*}{4}
    f(1,2) &= \{1,2,3\} \hspace{1cm} f(4,8) &= \{1,4,8\} \hspace{1cm} f(7,2) &= \{2,4,7\} \hspace{1cm} f(8,3) &= \{3,5,8\}\\
    f(2,1) &= \{1,2,4\} \hspace{1cm} f(5,1) &= \{1,5,6\} \hspace{1cm} f(8,2) &= \{2,4,8\} \hspace{1cm} f(3,6) &= \{3,6,7\}\\
    f(1,5) &= \{1,2,5\} \hspace{1cm} f(5,7) &= \{1,5,7\} \hspace{1cm} f(2,5) &= \{2,5,6\} \hspace{1cm} f(6,3) &= \{3,6,8\}\\
    f(1,6) &= \{1,2,6\} \hspace{1cm} f(5,8) &= \{1,5,8\} \hspace{1cm} f(5,2) &= \{2,5,7\} \hspace{1cm} f(7,3) &= \{3,7,8\}\\
    f(1,7) &= \{1,2,7\} \hspace{1cm} f(6,7) &= \{1,6,7\} \hspace{1cm} f(8,5) &= \{2,5,8\} \hspace{1cm} f(4,5) &= \{4,5,6\}\\
    f(1,8) &= \{1,2,8\} \hspace{1cm} f(6,8) &= \{1,6,8\} \hspace{1cm} f(6,2) &= \{2,6,7\} \hspace{1cm} f(5,4) &= \{4,5,7\}\\
    f(1,3) &= \{1,3,4\} \hspace{1cm} f(7,8) &= \{1,7,8\} \hspace{1cm} f(8,6) &= \{2,6,8\} \hspace{1cm} f(8,4) &= \{4,5,8\}\\
    f(3,1) &= \{1,3,5\} \hspace{1cm} f(2,3) &= \{2,3,4\} \hspace{1cm} f(8,7) &= \{2,7,8\} \hspace{1cm} f(4,6) &= \{4,6,7\}\\
    f(6,1) &= \{1,3,6\} \hspace{1cm} f(3,2) &= \{2,3,5\} \hspace{1cm} f(3,4) &= \{3,4,5\} \hspace{1cm} f(6,4) &= \{4,6,8\}\\
    f(7,1) &= \{1,3,7\} \hspace{1cm} f(2,6) &= \{2,3,6\} \hspace{1cm} f(4,3) &= \{3,4,6\} \hspace{1cm} f(7,4) &= \{4,7,8\}\\
    f(8,1) &= \{1,3,8\} \hspace{1cm} f(2,7) &= \{2,3,7\} \hspace{1cm} f(3,7) &= \{3,4,7\} \hspace{1cm} f(5,6) &= \{5,6,7\}\\
    f(1,4) &= \{1,4,5\} \hspace{1cm} f(2,8) &= \{2,3,8\} \hspace{1cm} f(3,8) &= \{3,4,8\} \hspace{1cm} f(6,5) &= \{5,6,8\}\\
    f(4,1) &= \{1,4,6\} \hspace{1cm} f(2,4) &= \{2,4,5\} \hspace{1cm} f(3,5) &= \{3,5,6\} \hspace{1cm} f(7,5) &= \{5,7,8\}\\
    f(4,7) &= \{1,4,7\} \hspace{1cm} f(4,2) &= \{2,4,6\} \hspace{1cm} f(5,3) &= \{3,5,7\} \hspace{1cm} f(7,6) &= \{6,7,8\}
  \end{alignat*}
  \caption{
    An example of an encoding where $k=3$ and $n=k!+k-1=8$.
  }
\end{figure}

\begin{question}
  What if the assistant can show any number of cards less than $k$, and the
  magician must guess all of the remaining cards?
\end{question}
\begin{related}
  \item How many different encodings exist (up to relabeling)?
  \item What if the magician just needs to guess one of the remaining cards?
  \item What if there are $\ell$ identical copies of a deck, how many cards can
    the original trick support?
  \item If the assistant shows $k-2$ cards to the magician, what is the biggest
    deck that this trick can be done with? $k-j$?
\end{related}

\begin{references}
  \item \url{http://oeis.org/A030495}
  \item \url{https://www.reddit.com/r/math/comments/7l1t84/a_combinatorists_card_trick/}
  \item \url{https://web.northeastern.edu/seigen/11Magic/Articles/Best%20Card%20Trick.pdf}
\end{references}
\end{document}
