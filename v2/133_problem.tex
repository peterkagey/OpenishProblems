\documentclass{article}
\input{header}

\begin{document}
\rating{4}{3}
Suppose that we have a total order of some finite set of combinatorial objects, such as
permutations,
derangements,
labeled graphs,
partitions,
compositions,
Dyck paths,
set partitions,
signed partitions,
labeled trees,
etc.

Moreover, let's say we index them so that the minimum in the total order is
indexed $1$, the next element is indexed $2$, and so on, and the maximum in the
total order is labeled $N$, the size of the set.
\begin{figure}[ht!]
  \begin{tikzpicture}[scale=0.7]
    \path (0,0) -- (0,-6);
    \foreach \x [count=\i] in {5} {\fill[color1!50, draw=black] (0,-\i) grid (\x,{-\i-1}) rectangle (0,-\i);}
  \end{tikzpicture}
  ~
  \begin{tikzpicture}[scale=0.7]
    \path (0,0) -- (0,-6);
    \foreach \x [count=\i] in {4,1} {\fill[color2!50, draw=black] (0,-\i) grid (\x,{-\i-1}) rectangle (0,-\i);}
  \end{tikzpicture}
  ~
  \begin{tikzpicture}[scale=0.7]
    \path (0,0) -- (0,-6);
    \foreach \x [count=\i] in {3,2} {\fill[color3!50, draw=black] (0,-\i) grid (\x,{-\i-1}) rectangle (0,-\i);}
  \end{tikzpicture}
  ~
  \begin{tikzpicture}[scale=0.7]
    \path (0,0) -- (0,-6);
    \foreach \x [count=\i] in {3,1,1} {\fill[color5!50, draw=black] (0,-\i) grid (\x,{-\i-1}) rectangle (0,-\i);}
  \end{tikzpicture}
  ~
  \begin{tikzpicture}[scale=0.7]
    \path (0,0) -- (0,-6);
    \foreach \x [count=\i] in {2,2,1} {\fill[color7!50, draw=black] (0,-\i) grid (\x,{-\i-1}) rectangle (0,-\i);}
  \end{tikzpicture}
  ~
  \begin{tikzpicture}[scale=0.7]
    \path (0,0) -- (0,-6);
    \foreach \x [count=\i] in {2,1,1,1} {\fill[color8!50, draw=black] (0,-\i) grid (\x,{-\i-1}) rectangle (0,-\i);}
  \end{tikzpicture}
  ~
  \begin{tikzpicture}[scale=0.7]
    \path (0,0) -- (0,-6);
    \foreach \x [count=\i] in {1,1,1,1,1} {\fill[color10!50, draw=black] (0,-\i) grid (\x,{-\i-1}) rectangle (0,-\i);}
  \end{tikzpicture}

  \caption{
    An illustration of the partitions of $5$, corresponding to
    ${4 + 1}$,
    ${3 + 2}$,
    ${3 + 1 + 1}$,
    ${2 + 2 + 1}$,
    ${2 + 1 + 1 + 1}$, and
    ${1 + 1 + 1 + 1 + 1}$ respectively.
    Because the $4$th partition is $3 + 1 + 1$,
    $\operatorname{unrank}(4) = 3 + 1 + 1$ and
    $\operatorname{rank}(3 + 1 + 1) = 4$.
  }
\end{figure}

\begin{question}
  What combinatorial objects have efficient ranking and unranking algorithms,
  and what are the algorithms?
\end{question}

\begin{related}
  \item In particular, when do objects that are counted with the principle of
  inclusion--exclusion have such algorithms? With Burnside's lemma?
  \item For which permutation statistics
  $\operatorname{st}\colon S_n \to \mathbb Z$
  is it possible to unrank the set
  $\{\pi \in S_n \mid \operatorname{st}(\pi) = k\}$, for a given value of $k$?
\end{related}

\begin{note}
  If we have two sets $X$ and $Y$ with an (efficient) bijection $X \to Y$, a
  total order on $X$ which induces a total order on $Y$,
  and efficient ranking/unranking algorithms for $X$,
  then we have efficient ranking/unranking algorithms for $Y$.
  For instance, if we order labeled trees
  by lexicographic order of their Pr\"ufer codes, then we have efficient
  ranking/unranking for labeled trees under this ordering.
\end{note}
\end{document}
